@namespace Wings.Framework.Ui.Ant.Components
@using System.Reflection;
@typeparam TModel
@inherits AntDynamicFormBase<TModel>;




<DataSourceManager TModel="TModel" @ref="DataSource"></DataSourceManager>
@if(render  )
{
    if (mode == "modal"  && Visible)
    {

        <Modal Visible="@_visible" Width="900" Title="@GetTitle()" OnOk="@HandleOk" OnCancel="@HandleCancel">


            <EditForm EditContext="editContext">
                <DataAnnotationsValidator />
                <ValidationSummary />
                <Row Gutter="16">
                    @foreach (var item in props)
                    {

                        <AntDesign.Col Class="gutter-row" Span="12">
                            <AntDynamicField Property="item" Value="Value" TModel="TModel"
                                             OnValueChange="(value=>changeValue(item,value))" FieldValue="GetFieldValue(item)">
                            </AntDynamicField>
                        </AntDesign.Col>

                    }
                </Row>




            </EditForm>
            @ValueString
        </Modal>
    }
    if(mode=="inline")
    {
        <EditForm EditContext="editContext">
            <DataAnnotationsValidator />
            <ValidationSummary />
            <Row Gutter="16">
                @foreach (var item in props)
                {

                    <AntDesign.Col Class="gutter-row" Span="12">
                        <AntDynamicField Property="item" Value="Value" TModel="TModel"
                                         OnValueChange="(value=>changeValue(item,value))" FieldValue="GetFieldValue(item)">
                        </AntDynamicField>
                    </AntDesign.Col>

                }
            </Row>
            

        </EditForm>

    }
}
